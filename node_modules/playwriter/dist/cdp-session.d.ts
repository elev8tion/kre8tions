import WebSocket from 'ws';
import type { Page } from 'playwright-core';
import type { ProtocolMapping } from 'devtools-protocol/types/protocol-mapping.js';
export declare class CDPSession {
    private ws;
    private pendingRequests;
    private eventListeners;
    private messageId;
    private sessionId;
    constructor(ws: WebSocket);
    setSessionId(sessionId: string): void;
    send<K extends keyof ProtocolMapping.Commands>(method: K, params?: ProtocolMapping.Commands[K]['paramsType'][0]): Promise<ProtocolMapping.Commands[K]['returnType']>;
    on<K extends keyof ProtocolMapping.Events>(event: K, callback: (params: ProtocolMapping.Events[K][0]) => void): void;
    off<K extends keyof ProtocolMapping.Events>(event: K, callback: (params: ProtocolMapping.Events[K][0]) => void): void;
    detach(): void;
}
export declare function getCDPSessionForPage({ page, wsUrl }: {
    page: Page;
    wsUrl: string;
}): Promise<CDPSession>;
//# sourceMappingURL=cdp-session.d.ts.map